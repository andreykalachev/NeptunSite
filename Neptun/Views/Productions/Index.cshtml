@model Neptun.Models.ViewModels.Product.ProductIndexViewModel

@{
    ViewBag.Title = "Index";
    var leftArrow = Model.CurrentPage != 0 ? "page-item" : "page-item disabled";
    var rigthArrow = Model.CurrentPage != Model.PageCount - 1 ? "page-item" : "page-item disabled";
}



<section class="py-5">
    <div class="container">
        <h1>Продукция</h1>
        <p class="lead">Самая лучшая продукция во всей Украине и не только</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid, suscipit, rerum quos facilis repellat architecto commodi officia atque nemo facere eum non illo voluptatem quae delectus odit vel itaque amet.</p>
    </div>
</section>
<div class="container">
    <div class="row">
        @foreach (var item in Model.Products)
        {
            <div class="col-lg-3 col-md-4 col-sm-6 portfolio-item">
                <div class="card h-100">
                    <div class="card-text h-75">
                        <h5 class="card-title text-center">
                            <a href=@Url.Action("Info", "Productions", new {id = item.Id})>@Html.DisplayFor(modelItem => item.Title)</a>
                        </h5>
                    </div>
                    @{ var path = $@"data:image/jpeg;base64, {Convert.ToBase64String(item.Photo)} ";}
                    <a href=@Url.Action("Info", "Productions", new {id = item.Id})>
                        <img class="card-img-top" src="@path" alt="">
                    </a>
                </div>
            </div>
        }
    </div>

    @if (Model.PageCount > 1)
    {
        <nav class="row pl-5">
            <ul class="pagination">
                <li class="@leftArrow">
                    <a class="page-link" tabindex="-1" href=@Url.Action("Index", "Productions", new {page = Model.CurrentPage - 1, productType = Model.ProductType}) aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                @for (var i = 1; i < Model.PageCount + 1; i++)
                {
                    var pageActive = Model.CurrentPage == i - 1 ? "page-item active" : "page-item";
                    <li class="@pageActive"><a class="page-link" href=@Url.Action("Index", "Productions", new {page = i - 1 , productType = Model.ProductType})>@i</a></li>

                }
                <li class="@rigthArrow">
                    <a class="page-link" href=@Url.Action("Index", "Productions", new {page = Model.CurrentPage + 1 , productType = Model.ProductType}) aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>

    }

    </div>