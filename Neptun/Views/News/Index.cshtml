@using Neptun.Models.Enum
@model Neptun.Models.ViewModels.NewsIndexViewModel

@{
    Layout = "";

    var leftArrow = Model.CurrentPage != 0 ? "" : "not-active";
    var rigthArrow = Model.CurrentPage != Model.PageCount - 1 ? "" : "not-active";
}


<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/Content/header.css" type="text/css">
    <link rel="stylesheet" href="/Content/news.css" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <meta name="keywords" content="Новости, Что нового" />
    <meta name="description" content='Что нового в торговом доме Одесского завода "Нептун". Свежие новости, новая продукция и услуги, которые уже доступны у нас.' />
    <link rel="icon" href="/favicon.ico" />
    <link rel="canonical" href="http://neptun-odessa.com/News" />
    <title>"Нептун | Новости - узнайте что у нас нового"</title>
</head>

<body>
    <header>
        <div class="header-container">
            <input type="checkbox" id="menu-checkbox">
            <nav>
                <label for="menu-checkbox" class="toggle-button" data-open="МЕНЮ" data-close="ЗАКРЫТЬ"></label>
                <ul class="main-menu">
                    <li>
                        <a href="@Url.Action("Index", "Home")">ГЛАВНАЯ</a>
                    </li>
                    <li class="dropdown">
                        <label for="dropdown-checkbox" id="#dropdown-label">ПРОДУКЦИЯ</label>
                        <input type="checkbox" id="dropdown-checkbox">
                        <div>
                            <ul>
                                <li>
                                    <a href="@Url.Action("Index", "Productions")">Вся продукция</a>
                                </li>
                                <hr>
                                <li>
                                    <a href="@Url.Action("Index", "Productions", new {productType = ProductType.HfProcessing})">ВЧ Обработка</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("Index", "Productions", new {productType = ProductType.HfCommunication})">ВЧ Связь</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("Index", "Productions", new {productType = ProductType.HfProtection})">ВЧ Защита</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("Cabinets", "Productions")">Шкафы</a>
                                </li>
                                <hr>
                                <li>
                                    <a href='@Url.Action("Index", "Productions", new {productType = ProductType.Cleaning})'>Очистные сооружения</a>
                                </li>
                                <hr>
                                <li>
                                    <a href="@Url.Action("Index", "Productions", new {productType = ProductType.Other})">Прочее</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="@Url.Action("Index", "News")">НОВОСТИ</a>
                    </li>
                    <li>
                        <a href="@Url.Action("Index", "Company")">КОНТАКТЫ</a>
                    </li>
                    <li>
                        <a href="" onclick="window.open('/Pdf/Reference.pdf','_blank');">РЕФЕРЕНС</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <div class="page-container">
            <section class="top">
                <h1>Новости</h1>
                <p id="date"></p>
            </section>
            <section class="all-news">
                @foreach (var item in Model.News)
                {
                    <div class="news-box">
                        <div class="news-image">
                            <img src="@item.Photo" alt="@Html.DisplayFor(modelItem => item.Title)">
                        </div>
                        <div class="description">
                            <h2>@item.Title</h2>
                            <p> @Html.Raw(item.Description)</p>
                            <p class="date">@item.Date.ToString("dd/MM/yyyy")</p>
                        </div>
                    </div>
                }
            </section>
            @if (Model.PageCount > 1)
            {
                <section class="pagination">
                    <ul>
                        <li class="@leftArrow">
                            <a class="prev" href="@Url.Action("Index", "News", new { page = Model.CurrentPage - 1})">&lsaquo;</a>
                        </li>
                        @for (var i = 1; i < Model.PageCount + 1; i++)
                        {
                            var pageActive = Model.CurrentPage == i - 1 ? "current" : "";
                            <li class="@pageActive">
                                <a href="@Url.Action("Index", "News", new {page = i - 1})">@i</a>
                            </li>
                        }
                        <li class="@rigthArrow">
                            <a class="next" href="@Url.Action("Index", "News", new { page = Model.CurrentPage + 1 })">&rsaquo;</a>
                        </li>
                    </ul>
                </section>
            }
        </div>
    </main>
    <footer>
        <div class="page-container">
            <h4>Все права на торговую марку принадлежат ООО "Торговый дом Одесского завода "Нептун"</h4>
        </div>
    </footer>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="/Scripts/user/header-script.js" type="text/javascript"></script>
<script src="/Scripts/user/news.js" type="text/javascript"></script>

</html>